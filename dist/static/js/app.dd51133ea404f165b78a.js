webpackJsonp([1],{"/yRs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("8ebl")).default||s,o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(t){a("CjMs")},null,null);e.default=i.exports},"0dR/":function(t,e){},"2AFX":function(t,e){},"4nWh":function(t,e){},"5ZbH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("hOwk")).default||s,o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(t){a("dtWn")},null,null);e.default=i.exports},"5cLx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("WgA/")).default||s,o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},i=a("VU/8")(n,o,!1,null,null,null);e.default=i.exports},CjMs:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={name:"App",data:()=>({})},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(t){a("w/Oe")},"data-v-4f16c9ab",null).exports,r=a("/ocq");const l={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"county",country:"long_name",postal_code:"short_name"},c=["locality","administrative_area_level_3"],d=["locality","sublocality","postal_code","country","administrative_area_level_1","administrative_area_level_2"];var u={name:"VueGoogleAutocomplete",props:{id:{type:String,required:!0},classname:String,placeholder:{type:String,default:"Start typing"},types:{type:String,default:"address"},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1},geolocationOptions:{type:Object,default:null}},data:()=>({autocomplete:null,autocompleteText:"",geolocation:{geocoder:null,loc:null,position:null}}),watch:{autocompleteText:function(t,e){this.$emit("inputChange",{newVal:t,oldVal:e},this.id)},country:function(t,e){this.autocomplete.setComponentRestrictions({country:null===this.country?[]:this.country})}},mounted:function(){const t={};this.types&&(t.types=[this.types]),this.country&&(t.componentRestrictions={country:this.country}),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById(this.id),t),this.autocomplete.addListener("place_changed",this.onPlaceChanged)},methods:{onPlaceChanged(){let t=this.autocomplete.getPlace();t.geometry?void 0!==t.address_components&&(this.$emit("placechanged",this.formatResult(t),t,this.id),this.autocompleteText=document.getElementById(this.id).value,this.onChange()):this.$emit("no-results-found",t,this.id)},onFocus(){this.biasAutocompleteLocation(),this.$emit("focus")},onBlur(){this.$emit("blur")},onChange(){this.$emit("change",this.autocompleteText)},onKeyPress(t){this.$emit("keypress",t)},onKeyUp(t){this.$emit("keyup",t)},clear(){this.autocompleteText=""},focus(){this.$refs.autocomplete.focus()},blur(){this.$refs.autocomplete.blur()},update(t){this.autocompleteText=t},updateCoordinates(t){(t||t.lat||t.lng)&&(this.geolocation.geocoder||(this.geolocation.geocoder=new google.maps.Geocoder),this.geolocation.geocoder.geocode({location:t},(t,e)=>{"OK"===e?(t=this.filterGeocodeResultTypes(t))[0]?(this.$emit("placechanged",this.formatResult(t[0]),t[0],this.id),this.update(t[0].formatted_address)):this.$emit("error","no result for provided coordinates"):this.$emit("error","error getting address from coords")}))},geolocate(){this.updateGeolocation((t,e)=>{this.updateCoordinates(t)})},updateGeolocation(t=null){if(navigator.geolocation){let e={};this.geolocationOptions&&Object.assign(e,this.geolocationOptions),navigator.geolocation.getCurrentPosition(e=>{let a={lat:e.coords.latitude,lng:e.coords.longitude};this.geolocation.loc=a,this.geolocation.position=e,t&&t(a,e)},t=>{this.$emit("error","Cannot get Coordinates from navigator",t)},e)}},biasAutocompleteLocation(){this.enableGeolocation&&this.updateGeolocation((t,e)=>{let a=new google.maps.Circle({center:t,radius:e.coords.accuracy});this.autocomplete.setBounds(a.getBounds())})},formatResult(t){let e={};for(let a=0;a<t.address_components.length;a++){let s=t.address_components[a].types[0];if(l[s]){let n=t.address_components[a][l[s]];e[s]=n}}return e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng(),e},filterGeocodeResultTypes(t){if(!t||!this.types)return t;let e=[],a=[this.types];a.includes("(cities)")&&(a=a.concat(c)),a.includes("(regions)")&&(a=a.concat(d));for(let s of t)for(let t of s.types)if(a.includes(t)){e.push(s);break}return e}}},h={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.autocompleteText,expression:"autocompleteText"}],ref:"autocomplete",class:t.classname,attrs:{type:"text",id:t.id,placeholder:t.placeholder},domProps:{value:t.autocompleteText},on:{focus:function(e){t.onFocus()},blur:function(e){t.onBlur()},change:t.onChange,keypress:t.onKeyPress,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.autocompleteText=e.target.value)}}})},staticRenderFns:[]},p={components:{VueGoogleAutocomplete:a("VU/8")(u,h,!1,null,null,null).exports},data:()=>({establishment:"",address:{}}),mounted(){this.$refs.address.focus()},methods:{getAddressData:function(t,e,a){this.address=t},async addData(t,e,a){if(e.country){let a={establishment:t,address:e};await this.$store.dispatch("addData",a),this.establishment="",document.getElementById("map").value="",e={}}else alert("Endereço inválido");this.$store.dispatch("refreshCounter")}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cadastro"},[a("div",{staticClass:"title"},[t._v("Cadastro")]),t._v(" "),a("form",{staticClass:"form-container"},[a("label",[t._v("Estabelecimento")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.establishment,expression:"establishment"}],attrs:{type:"text",placeholder:"Estabelecimento"},domProps:{value:t.establishment},on:{input:function(e){e.target.composing||(t.establishment=e.target.value)}}}),t._v(" "),a("label",[t._v("Endereço")]),t._v(" "),a("vue-google-autocomplete",{ref:"address",staticClass:"address",attrs:{id:"map",classname:"input",placeholder:"Endereço",country:"br",types:"(regions)"},on:{placechanged:t.getAddressData}}),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){e.preventDefault(),t.addData(t.establishment,t.address)}}},[t._v("Adicionar")])],1)])},staticRenderFns:[]};var v=a("VU/8")(p,m,!1,function(t){a("OqA7")},"data-v-0affcbd7",null).exports,f={data:()=>({items:{},editing:[]}),methods:{enableEdit(t){this.editing=[],this.editing[t]=!0},disableEdit(){this.editing=[]},async saveEdit(t,e){let a=await JSON.parse(localStorage.getItem("itemsArray"));a[e].establishment=t,localStorage.setItem("itemsArray",JSON.stringify(a)),this.editing=[]}},async beforeCreate(){this.items=await this.$store.getters.getData}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardBox"},t._l(t.$store.getters.getData,function(e,s){return a("div",{key:s,staticClass:"card"},[t.editing[s]?t._e():a("div",{staticClass:"estabelecimento"},[t._v("Estabelecimento: "+t._s(e.establishment)+"  \n      "),a("button",{staticClass:"btn",on:{click:function(e){e.preventDefault(),t.enableEdit(s)}}},[t._v("Editar")])]),t._v(" "),t.editing[s]?a("div",{staticClass:"estabelecimento"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.establishment,expression:"item.establishment"}],domProps:{value:e.establishment},on:{input:function(a){a.target.composing||t.$set(e,"establishment",a.target.value)}}}),t._v(" "),a("button",{staticClass:"btn",on:{click:function(a){a.preventDefault(),t.saveEdit(e.establishment,s)}}},[t._v("Salvar")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(e){e.preventDefault(),t.disableEdit()}}},[t._v("Fechar")])]):t._e(),t._v("\n    País: "+t._s(e.address.pais)+"\n    "),a("br"),t._v("\n    Estado: "+t._s(e.address.estado)+"\n    "),a("br"),t._v("\n    Cidade: "+t._s(e.address.cidade)+"  \n  ")])}),0)},staticRenderFns:[]};var _=a("VU/8")(f,g,!1,function(t){a("0dR/")},"data-v-19f6a2e2",null).exports,y={data(){return{array:this.$store.getters.getData,estados:"",counts:[]}},async beforeMount(){this.$store.dispatch("refreshCounter")}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"counter"},[a("div",{staticClass:"media"},[t._v("\n    Média de estabelecimentos por estado: "+t._s(this.$store.getters.getMedia)),a("br")]),t._v(" "),a("div",{staticClass:"total"},[t._v("Total de estabelecimentos: "+t._s(t.$store.getters.getSum))]),t._v(" "),a("div",{staticClass:"contagens"},t._l(this.$store.getters.getEstados,function(e,s){return a("div",{key:s},[t._v("\n      "+t._s(e.item)+":"+t._s(e.count)+"\n    ")])}),0)])},staticRenderFns:[]};var C=a("VU/8")(y,b,!1,function(t){a("4nWh")},"data-v-78df5ae0",null).exports,$={components:{GChart:a("kXf/").GChart},data(){return{chartData:this.$store.getters.getGraphData,chartOptions:{title:"Quantidade de estabelecimentos por estado",vAxis:{title:"Estado"},hAxis:{title:"Estabelecimentos"},height:200,width:600}}}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this.$store.getters.getGraphData.length>0?e("div",{staticClass:"graphContainer"},[e("GChart",{attrs:{type:"BarChart",data:this.$store.getters.getGraphData,options:this.chartOptions}})],1):this._e()])},staticRenderFns:[]};var x={components:{cadastro:v,cardBox:_,counter:C,graph:a("VU/8")($,E,!1,function(t){a("wm1z")},"data-v-b81003d8",null).exports},data:()=>({})},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("cadastro",{staticClass:"cadastro"}),this._v(" "),e("cardBox",{staticClass:"cardBox"}),this._v(" "),e("counter",{staticClass:"counter"}),this._v(" "),e("graph",{staticClass:"graph"})],1)},staticRenderFns:[]};var w=a("VU/8")(x,S,!1,function(t){a("2AFX")},"data-v-706297f1",null).exports;s.a.use(r.a);var A=new r.a({routes:[{path:"/",name:"Index",component:w}]}),D=a("NYxO");s.a.use(D.a);var T=new D.a.Store({state:{itemArray:JSON.parse(localStorage.getItem("itemsArray")),estados:[],media:0,graphData:[],sum:0},getters:{getData:t=>t.itemArray,getEstados:t=>t.estados,getMedia:t=>t.media,getGraphData:t=>t.graphData,getSum:t=>t.sum},mutations:{addDataToState(t,e){t.itemArray=e},addEstadosToState(t,e){t.estados=e},addMediaToState(t,e){t.media=e},addGraphDataToState(t,e){t.graphData=e},addSumToState(t,e){t.sum=e}},actions:{async addData({state:t,commit:e},a){let s=await JSON.parse(localStorage.getItem("itemsArray"))||[];var n={establishment:a.establishment,address:{pais:a.address.country,estado:a.address.administrative_area_level_1,latitude:a.address.latitude,longitude:a.address.longitude,cidade:a.address.locality}};s.push(n),localStorage.setItem("itemsArray",JSON.stringify(s)),e("addDataToState",s)},async refreshCounter({state:t,commit:e,getters:a}){let s=a.getData.map(t=>t.address.estado),n=[];s.forEach(t=>{let e={item:t,count:1};for(let a=0;a<s.length;a++)s.indexOf(t)!==a&&s[a]===t&&(e.count++,s[a]="");n.push(e)});let o=n.filter(t=>t.item.length>0);e("addEstadosToState",o);let i=0;o.forEach(t=>{i+=t.count}),e("addSumToState",i),e("addMediaToState",i/a.getEstados.length);let r=[["Estado","Estabelecimentos"]];o.forEach(t=>{let e=[t.item,t.count];r.push(e)}),e("addGraphDataToState",r)}}}),O=a("sA6N");s.a.config.productionTip=!1,new s.a({store:T,el:"#app",router:A,components:{App:i},template:"<App/>"}),s.a.use(O,{load:{key:"AIzaSyD7D_7ju2TkNb9jcSp1wTVs6QyxwiJ9qsY",libraries:"places"}})},OqA7:function(t,e){},T5eZ:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=s},YI6p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jIen"),n=a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a("T5eZ"),r=a("VU/8")(n.a,i.a,!1,null,null,null);e.default=r.exports},dtWn:function(t,e){},preG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=(s=a("hQTS")).default||s,o={render:function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({ref:"input"},"input",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},i=a("VU/8")(n,o,!1,null,null,null);e.default=i.exports},"w/Oe":function(t,e){},wm1z:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.dd51133ea404f165b78a.js.map